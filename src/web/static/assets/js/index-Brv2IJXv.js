const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index-BxS9kTpz.js","assets/js/vendor-BnMKHz0r.js","assets/css/index-CR3IdAG3.css","assets/js/index-DRiOfiLb.js","assets/js/tokens-CUAMeXud.js","assets/js/echarts-C-8LDSbe.js","assets/css/index-Bk7gWeSZ.css","assets/js/index-B2VG3UoE.js","assets/css/index-BB0UUOaA.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,l)=>((t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l)(t,"symbol"!=typeof a?a+"":a,l);import{c as a,a as l,b as s,d as o,r as n,e as i,u as c,o as r,f as u,g as d,F as v,h as p,n as h,t as w,i as m,j as y,k as g,T as b,w as f,l as k,m as C,p as _,q as P,s as T,v as E,x,y as A,z as S,A as I,B as O,C as V,D as $,E as j,G as L,H as R}from"./vendor-BnMKHz0r.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const q=a(),D={},U=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));l=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in D)return;D[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},F=l({history:s(),routes:[{path:"/",redirect:"/launcher"},{path:"/launcher",name:"launcher",component:()=>U(()=>import("./index-BxS9kTpz.js"),__vite__mapDeps([0,1,2]))},{path:"/dashboard",name:"dashboard",component:()=>U(()=>import("./index-DRiOfiLb.js"),__vite__mapDeps([3,1,4,5,6]))},{path:"/overview",name:"overview",component:()=>U(()=>import("./index-B2VG3UoE.js"),__vite__mapDeps([7,1,4,8]))},{path:"/settings",name:"settings",component:()=>U(()=>Promise.resolve().then(()=>$e),void 0)},{path:"/flow",name:"flow",component:()=>U(()=>Promise.resolve().then(()=>Pt),void 0)}]}),M=o("app",()=>{const e=n("launcher"),t=n("mocha"),a=n(!1),l=n(!1);return{currentTab:e,theme:t,showSettings:a,showFlowEditor:l,setTab:t=>{e.value=t},setTheme:e=>{t.value=e,document.documentElement.setAttribute("data-theme",e)},setShowSettings:e=>{a.value=e},setShowFlowEditor:e=>{l.value=e}}}),K=()=>{var e;null==(e=window.electronAPI)||e.minimizeWindow()},N=()=>{var e;null==(e=window.electronAPI)||e.closeWindow()},B=()=>"undefined"!=typeof window&&void 0!==window.electronAPI,z=()=>{B()&&window.electronAPI.openFlowEditor&&window.electronAPI.openFlowEditor()},G={class:"titlebar-tabs"},W=["onClick","title"],H=(e,t)=>{const a=e.__vccOpts||e;for(const[l,s]of t)a[l]=s;return a},J=H(i({__name:"TitleBar",setup(e){const t=c(),a=M(),l=[{id:"launcher",icon:"ðŸš€",label:"å¯åŠ¨å™¨"},{id:"dashboard",icon:"ðŸ“ˆ",label:"ä»ªè¡¨ç›˜"},{id:"overview",icon:"ðŸ”‘",label:"æ€»è§ˆ"}],s=m(()=>a.currentTab),o=()=>{B()?B()&&window.electronAPI.openSettings&&window.electronAPI.openSettings():a.setShowSettings(!0)},n=()=>{B()&&K()},i=()=>{B()&&N()},y=()=>{};return(e,c)=>(r(),u("div",{class:"titlebar",onMousedown:y},[d("div",G,[(r(),u(v,null,p(l,e=>d("button",{key:e.id,class:h(["tab-btn",{active:s.value===e.id}]),onClick:l=>{return s=e.id,a.setTab(s),void t.push(`/${s}`);var s},title:e.label},w(e.icon),11,W)),64))]),d("div",{class:"titlebar-controls"},[d("button",{class:"ctrl-btn",onClick:o,title:"è®¾ç½®"},"âš™ï¸"),d("button",{class:"ctrl-btn",onClick:n,title:"æœ€å°åŒ–"},"â”€"),d("button",{class:"ctrl-btn close",onClick:i,title:"å…³é—­"},"Ã—")])],32))}}),[["__scopeId","data-v-30558ff7"]]),Q=n([]);let X=0;function Y(){const e=(e,a="info",l=3e3)=>{const s=X++,o={id:s,message:e,type:a,duration:l};return Q.value.push(o),l>0&&setTimeout(()=>{t(s)},l),s},t=e=>{const t=Q.value.findIndex(t=>t.id===e);-1!==t&&Q.value.splice(t,1)};return{toasts:Q,show:e,remove:t,success:(t,a)=>e(t,"success",a),error:(t,a)=>e(t,"error",a),warning:(t,a)=>e(t,"warning",a),info:(t,a)=>e(t,"info",a)}}const Z={class:"toast-wrap"},ee=["onClick"],te=H(i({__name:"Toast",setup(e){const{toasts:t,remove:a}=Y();return(e,l)=>(r(),y(C,{to:"body"},[d("div",Z,[g(b,{name:"toast"},{default:f(()=>[(r(!0),u(v,null,p(k(t),e=>(r(),u("div",{key:e.id,class:h(["toast",e.type]),onClick:t=>k(a)(e.id)},w(e.message),11,ee))),128))]),_:1})])]))}}),[["__scopeId","data-v-2f072e25"]]),ae={class:"dialog-header"},le={class:"dialog-title"},se={class:"dialog-body"},oe=H(i({__name:"Dialog",props:{show:{type:Boolean},title:{},width:{default:"50%"},closeOnClickModal:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const a=e,l=t,s=()=>l("close"),o=()=>{a.closeOnClickModal&&s()};return(t,a)=>(r(),y(C,{to:"body"},[g(_,{name:"dialog-fade"},{default:f(()=>[e.show?(r(),u("div",{key:0,class:"dialog-overlay",onClick:o},[d("div",{class:"dialog-wrapper",onClick:a[0]||(a[0]=E(()=>{},["stop"]))},[d("div",{class:"dialog-container",style:P({width:e.width})},[d("div",ae,[d("span",le,w(e.title),1),d("button",{class:"dialog-close",onClick:s},"Ã—")]),d("div",se,[T(t.$slots,"default",{},void 0,!0)])],4)])])):x("",!0)]),_:3})]))}}),[["__scopeId","data-v-f03fd819"]]);const ne=new class{constructor(){t(this,"timeout",1e4),t(this,"maxRetries",3),t(this,"cache",new Map),t(this,"cacheTTL",5e3)}getCacheKey(e,t){return`${e}:${t}`}getCache(e){const t=this.cache.get(e);return t&&Date.now()-t.timestamp<this.cacheTTL?t.data:(this.cache.delete(e),null)}setCache(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}clearCache(e){if(e)for(const t of this.cache.keys())t.includes(e)&&this.cache.delete(t);else this.cache.clear()}async request(e,t,a,l=0){const s=`/api/v1${t}`,o=new AbortController,n=setTimeout(()=>o.abort(),this.timeout);try{const i={method:e,headers:{"Content-Type":"application/json"},signal:o.signal};a&&(i.body=JSON.stringify(a));const c=await fetch(s,i);if(clearTimeout(n),!c.ok&&c.status>=500&&l<this.maxRetries){const s=1e3*Math.pow(2,l);return await new Promise(e=>setTimeout(e,s)),this.request(e,t,a,l+1)}const r=await c.json();if(0!==r.code)throw new Error(r.error||"API request failed");return r.data}catch(i){if(clearTimeout(n),"AbortError"===i.name)throw new Error("è¯·æ±‚è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥");if(l<this.maxRetries&&i.message.includes("fetch")){const s=1e3*Math.pow(2,l);return await new Promise(e=>setTimeout(e,s)),this.request(e,t,a,l+1)}throw i}}async get(e,t=!0){const a=this.getCacheKey("GET",e);if(t){const e=this.getCache(a);if(null!==e)return e}const l=await this.request("GET",e);return t&&this.setCache(a,l),l}async post(e,t){const a=await this.request("POST",e,t);return this.clearCache(e.split("/")[1]),a}async put(e,t){const a=await this.request("PUT",e,t);return this.clearCache(e.split("/")[1]),a}async delete(e){const t=await this.request("DELETE",e);return this.clearCache(e.split("/")[1]),t}},ie=()=>ne.get("/config"),ce=e=>ne.put("/config",e),re=o("settings",()=>{const e=n({}),t=n(!1),a=async()=>{t.value=!0;try{e.value=await ie()}catch(a){}finally{t.value=!1}};return{config:e,loading:t,fetchConfig:a,updateConfig:async e=>{try{await ce(e),await a()}catch(t){throw t}}}}),ue={class:"settings"},de={class:"row-value"},ve={key:0,class:"inline-editor"},pe={class:"slider-value"},he={class:"row-value"},we={key:1,class:"inline-editor"},me={class:"slider-value"},ye={class:"row-value"},ge={key:2,class:"inline-editor grid-editor"},be={class:"grid-input"},fe={class:"grid-input"},ke={class:"row-value"},Ce={key:3,class:"inline-editor"},_e=["onClick"],Pe={class:"radio-label"},Te=["onClick"],Ee={class:"radio-label"},xe={class:"setting-row"},Ae={class:"row-value"},Se={class:"stat-label"},Ie={class:"stat-ago"},Oe={class:"stat-count"},Ve=H(i({__name:"index",setup(e){const t=M(),a=re(),l=[{id:"dark",label:"æ·±è‰²"},{id:"light",label:"æµ…è‰²"}],s=[{id:"launcher",label:"å¯åŠ¨å™¨"},{id:"detail",label:"è¯¦æƒ…"},{id:"overview",label:"æ€»è§ˆ"}],o=O({opacity:.92,width:360,gridCols:4,gridRows:7,hotkey:"ctrl+space",middleClick:!0,selectionPopup:!1,theme:"dark",defaultView:"launcher"}),i=O({total:0,top:[]}),c=n(!1),m=n(!1),y=n(!1),g=n(!1),b=n(.92),f=n(360),k=n(4),C=n(7),_=n("ctrl+space"),P=async()=>{o.middleClick=!o.middleClick,await a.updateConfig({launcher:{middle_click:o.middleClick}})},T=async()=>{o.selectionPopup=!o.selectionPopup,await a.updateConfig({launcher:{selection_popup:o.selectionPopup}})},E=async()=>{b.value>=.1&&b.value<=1&&(o.opacity=b.value,await a.updateConfig({window:{opacity:b.value}}),c.value=!1)},V=async()=>{f.value>=200&&f.value<=800&&(o.width=f.value,await a.updateConfig({window:{width:f.value}}),m.value=!1)},$=async()=>{k.value>=2&&k.value<=8&&C.value>=2&&C.value<=10&&(o.gridCols=k.value,o.gridRows=C.value,await a.updateConfig({launcher:{grid:[k.value,C.value]}}),y.value=!1)},j=async()=>{_.value.trim()&&(o.hotkey=_.value,await a.updateConfig({launcher:{hotkey:_.value}}),g.value=!1)},L=e=>{e.preventDefault();const t=[];e.ctrlKey&&t.push("ctrl"),e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.metaKey&&t.push("meta");const a=e.key.toLowerCase();["control","shift","alt","meta"].includes(a)||t.push(a),t.length>0&&(_.value=t.join("+"))};return A(()=>{(async()=>{var e,t,l,s,n,i,c,r,u,d,v;await a.fetchConfig();const p=a.config;p&&(o.opacity=(null==(e=p.window)?void 0:e.opacity)??.92,o.width=(null==(t=p.window)?void 0:t.width)??360,o.gridCols=(null==(s=null==(l=p.launcher)?void 0:l.grid)?void 0:s[0])??4,o.gridRows=(null==(i=null==(n=p.launcher)?void 0:n.grid)?void 0:i[1])??7,o.hotkey=(null==(c=p.launcher)?void 0:c.hotkey)??"ctrl+space",o.middleClick=(null==(r=p.launcher)?void 0:r.middle_click)??!0,o.selectionPopup=(null==(u=p.launcher)?void 0:u.selection_popup)??!1,o.theme=(null==(d=p.window)?void 0:d.theme)??"dark",o.defaultView=(null==(v=p.launcher)?void 0:v.default_view)??"launcher")})(),b.value=o.opacity,f.value=o.width,k.value=o.gridCols,C.value=o.gridRows,_.value=o.hotkey}),(e,n)=>(r(),u("div",ue,[n[24]||(n[24]=d("div",{class:"section-title"},"çª—å£",-1)),d("div",{class:"setting-row",onClick:n[0]||(n[0]=e=>c.value=!c.value)},[n[13]||(n[13]=d("span",{class:"row-label"},"é€æ˜Žåº¦",-1)),d("span",de,w(o.opacity),1)]),c.value?(r(),u("div",ve,[S(d("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>b.value=e),type:"range",min:"0.1",max:"1.0",step:"0.01",class:"slider"},null,512),[[I,b.value,void 0,{number:!0}]]),d("span",pe,w(b.value.toFixed(2)),1),d("button",{class:"btn-save",onClick:E},"âœ“"),d("button",{class:"btn-cancel",onClick:n[2]||(n[2]=e=>c.value=!1)},"âœ•")])):x("",!0),d("div",{class:"setting-row",onClick:n[3]||(n[3]=e=>m.value=!m.value)},[n[14]||(n[14]=d("span",{class:"row-label"},"å®½åº¦",-1)),d("span",he,w(o.width)+"px",1)]),m.value?(r(),u("div",we,[S(d("input",{"onUpdate:modelValue":n[4]||(n[4]=e=>f.value=e),type:"range",min:"200",max:"800",step:"10",class:"slider"},null,512),[[I,f.value,void 0,{number:!0}]]),d("span",me,w(f.value)+"px",1),d("button",{class:"btn-save",onClick:V},"âœ“"),d("button",{class:"btn-cancel",onClick:n[5]||(n[5]=e=>m.value=!1)},"âœ•")])):x("",!0),n[25]||(n[25]=d("div",{class:"section-title"},"å¯åŠ¨å™¨",-1)),d("div",{class:"setting-row",onClick:n[6]||(n[6]=e=>y.value=!y.value)},[n[15]||(n[15]=d("span",{class:"row-label"},"ç½‘æ ¼",-1)),d("span",ye,w(o.gridCols)+" x "+w(o.gridRows),1)]),y.value?(r(),u("div",ge,[d("div",be,[n[16]||(n[16]=d("label",null,"åˆ—",-1)),S(d("input",{"onUpdate:modelValue":n[7]||(n[7]=e=>k.value=e),type:"number",min:"2",max:"8"},null,512),[[I,k.value,void 0,{number:!0}]])]),d("div",fe,[n[17]||(n[17]=d("label",null,"è¡Œ",-1)),S(d("input",{"onUpdate:modelValue":n[8]||(n[8]=e=>C.value=e),type:"number",min:"2",max:"10"},null,512),[[I,C.value,void 0,{number:!0}]])]),d("button",{class:"btn-save",onClick:$},"âœ“"),d("button",{class:"btn-cancel",onClick:n[9]||(n[9]=e=>y.value=!1)},"âœ•")])):x("",!0),d("div",{class:"setting-row",onClick:n[10]||(n[10]=e=>g.value=!g.value)},[n[18]||(n[18]=d("span",{class:"row-label"},"çƒ­é”®",-1)),d("span",ke,w(o.hotkey),1)]),g.value?(r(),u("div",Ce,[S(d("input",{"onUpdate:modelValue":n[11]||(n[11]=e=>_.value=e),type:"text",placeholder:"ä¾‹å¦‚: ctrl+space",class:"text-input",onKeydown:L},null,544),[[I,_.value]]),d("button",{class:"btn-save",onClick:j},"âœ“"),d("button",{class:"btn-cancel",onClick:n[12]||(n[12]=e=>g.value=!1)},"âœ•")])):x("",!0),d("div",{class:"setting-row",onClick:P},[n[20]||(n[20]=d("span",{class:"row-label"},"é¼ æ ‡ä¸­é”®",-1)),d("div",{class:h(["toggle",{on:o.middleClick}])},[...n[19]||(n[19]=[d("div",{class:"toggle-knob"},null,-1)])],2)]),d("div",{class:"setting-row",onClick:T},[n[22]||(n[22]=d("span",{class:"row-label"},"é€‰ä¸­æµ®çª—",-1)),d("div",{class:h(["toggle",{on:o.selectionPopup}])},[...n[21]||(n[21]=[d("div",{class:"toggle-knob"},null,-1)])],2)]),n[26]||(n[26]=d("div",{class:"section-title"},"ä¸»é¢˜",-1)),(r(),u(v,null,p(l,e=>d("div",{key:e.id,class:h(["radio-row",{active:o.theme===e.id}]),onClick:l=>(async e=>{o.theme=e,t.setTheme("light"===e?"latte":"mocha"),await a.updateConfig({window:{theme:e}})})(e.id)},[d("span",{class:h(["radio-dot",{checked:o.theme===e.id}])},null,2),d("span",Pe,w(e.label),1)],10,_e)),64)),n[27]||(n[27]=d("div",{class:"section-title"},"é»˜è®¤è§†å›¾",-1)),(r(),u(v,null,p(s,e=>d("div",{key:e.id,class:h(["radio-row",{active:o.defaultView===e.id}]),onClick:t=>(async e=>{o.defaultView=e,await a.updateConfig({launcher:{default_view:e}})})(e.id)},[d("span",{class:h(["radio-dot",{checked:o.defaultView===e.id}])},null,2),d("span",Ee,w(e.label),1)],10,Te)),64)),n[28]||(n[28]=d("div",{class:"section-title"},"ä½¿ç”¨ç»Ÿè®¡",-1)),d("div",xe,[n[23]||(n[23]=d("span",{class:"row-label"},"æ€»æ‰§è¡Œæ¬¡æ•°",-1)),d("span",Ae,w(i.total),1)]),(r(!0),u(v,null,p(i.top,e=>(r(),u("div",{key:e.id,class:"stat-row"},[d("span",Se,w(e.icon)+" "+w(e.label),1),d("span",Ie,w(e.ago),1),d("span",Oe,w(e.count)+"æ¬¡",1)]))),128))]))}}),[["__scopeId","data-v-84027c98"]]),$e=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"})),je=()=>ne.get("/flows/step-types"),Le=e=>ne.post("/flows/execute",e),Re=()=>ne.get("/pages"),qe=(e,t,a)=>ne.put(`/pages/${e}/actions/${t}`,a),De=o("flowEditor",()=>{const e=n([]),t=n([]),a=n(null),l=n(!1);return{stepTypes:e,pages:t,currentFlow:a,loading:l,fetchStepTypes:async()=>{try{e.value=await je()}catch(t){}},fetchPages:async()=>{try{t.value=await Re()}catch(e){}},executeFlow:async e=>{l.value=!0;try{await Le(e)}catch(t){throw t}finally{l.value=!1}},saveToPage:async(e,t,a,l)=>{try{await qe(e,t,{steps:a,delay:l})}catch(s){throw s}}}}),Ue=e=>{const t=void 0!==e?`?page=${e}`:"";return ne.get(`/actions${t}`)},Fe=e=>ne.post("/actions",e),Me=(e,t)=>ne.put(`/actions/${e}`,t),Ke=e=>ne.delete(`/actions/${e}`),Ne=e=>ne.post(`/actions/${e}/execute`),Be=(e,t)=>ne.post("/actions/reorder",{from:e,to:t}),ze=e=>ne.get(`/search?q=${encodeURIComponent(e)}`),Ge=o("launcher",()=>{const e=n(0),t=n(""),a=n(0),l=n([]),s=n(!1),o=n(""),i=n([]);return{currentPage:e,pageName:t,totalPages:a,actions:l,loading:s,searchQuery:o,searchResults:i,fetchActions:async o=>{s.value=!0;try{const s=await Ue(o);e.value=s.page,t.value=s.pageName,a.value=s.totalPages,l.value=s.actions}catch(n){}finally{s.value=!1}},addAction:async e=>{const t=`temp-${Date.now()}`,a={index:l.value.length,id:t,type:e.type||"app",label:e.label||"",icon:e.icon||"âœ¦",hotkey:e.hotkey||"",steps:e.steps||[],delay:e.delay||500};l.value.push(a);try{const s=await Fe(e),o=l.value.findIndex(e=>e.id===t);-1!==o&&(l.value[o]={...a,...s})}catch(s){throw l.value=l.value.filter(e=>e.id!==t),s}},updateAction:async(e,t)=>{const a={...l.value[e]};l.value[e]&&(l.value[e]={...l.value[e],...t});try{await Me(e,t)}catch(s){throw l.value[e]=a,s}},deleteAction:async e=>{const t=[...l.value];l.value=l.value.filter((t,a)=>a!==e);try{await Ke(e)}catch(a){throw l.value=t,a}},executeAction:async e=>{try{await Ne(e)}catch(t){throw t}},reorderActions:async(e,t)=>{const a=[...l.value],s=l.value[e];l.value[e]=l.value[t],l.value[t]=s;try{await Be(e,t)}catch(o){throw l.value=a,o}},search:async e=>{if(o.value=e,e.trim())try{i.value=await ze(e)}catch(t){i.value=[]}else i.value=[]},clearSearch:()=>{o.value="",i.value=[]}}}),We={class:"modal-body"},He={class:"form-group"},Je=["value"],Qe={class:"form-group"},Xe={class:"position-grid"},Ye=["onClick"],Ze={class:"form-group"},et={class:"form-group"},tt={class:"modal-footer"},at=["disabled"],lt=H(i({__name:"PageSelector",props:{show:{type:Boolean},pages:{}},emits:["close","save"],setup(e,{emit:t}){const a=e,l=t,s=n(0),o=n(0),i=n(""),c=n("ðŸ”€");V(()=>a.show,e=>{e&&(s.value=0,o.value=0,i.value="æ–°æµç¨‹",c.value="ðŸ”€")});const y=m(()=>a.pages[s.value]),g=m(()=>""!==i.value.trim()&&""!==c.value.trim()),b=()=>l("close"),f=()=>{g.value&&l("save",s.value,o.value,i.value,c.value)};return(t,a)=>e.show?(r(),u("div",{key:0,class:"modal-mask",onClick:b},[d("div",{class:"modal-box",onClick:a[3]||(a[3]=E(()=>{},["stop"]))},[d("div",{class:"modal-header"},[a[4]||(a[4]=d("span",{class:"modal-title"},"ä¿å­˜åˆ°é¡µé¢",-1)),d("button",{class:"close-btn",onClick:b},"Ã—")]),d("div",We,[d("div",He,[a[5]||(a[5]=d("label",null,"é€‰æ‹©é¡µé¢",-1)),S(d("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e)},[(r(!0),u(v,null,p(e.pages,(e,t)=>(r(),u("option",{key:t,value:t},w(e.name||`é¡µé¢ ${t+1}`),9,Je))),128))],512),[[$,s.value]])]),d("div",Qe,[a[6]||(a[6]=d("label",null,"é€‰æ‹©ä½ç½®",-1)),d("div",Xe,[(r(),u(v,null,p(28,e=>{return d("div",{key:e,class:h(["pos-cell",{selected:o.value===e-1,filled:(t=e-1,!!y.value&&y.value.actions.some(e=>e.index===t))}]),onClick:t=>o.value=e-1},w(e),11,Ye);var t}),64))])]),d("div",Ze,[a[7]||(a[7]=d("label",null,"åŠ¨ä½œåç§°",-1)),S(d("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),placeholder:"æµç¨‹åç§°"},null,512),[[I,i.value]])]),d("div",et,[a[8]||(a[8]=d("label",null,"å›¾æ ‡",-1)),S(d("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>c.value=e),placeholder:"emoji",maxlength:"2"},null,512),[[I,c.value]])])]),d("div",tt,[d("button",{class:"btn-cancel",onClick:b},"å–æ¶ˆ"),d("button",{class:"btn-save",onClick:f,disabled:!g.value},"ä¿å­˜",8,at)])])])):x("",!0)}}),[["__scopeId","data-v-ddbceb7f"]]),st={class:"flow-editor"},ot={class:"toolbar"},nt=["disabled"],it={class:"step-palette"},ct={class:"cat-title"},rt=["onClick"],ut={class:"s-icon"},dt={class:"s-name"},vt={class:"flow-steps"},pt={class:"steps-header"},ht={class:"steps-title"},wt={class:"steps-delay"},mt={key:0,class:"steps-empty"},yt={key:1,class:"steps-list"},gt={class:"step-num"},bt={class:"step-icon"},ft={class:"step-type"},kt=["onClick"],Ct={class:"delay-control"},_t=H(i({__name:"index",setup(e){const t=c(),a=De(),l=Ge(),{success:s,error:o}=Y(),i=n(!1),h=n([]),y=n(500),b=m(()=>a.stepTypes),f=m(()=>a.pages),k=e=>{for(const t of b.value){const a=t.steps.find(t=>t.type===e);if(a)return a.icon}return"â€¢"},C=()=>{h.value.length>0&&confirm("ç¡®å®šæ¸…ç©ºæ‰€æœ‰æ­¥éª¤ï¼Ÿ")&&(h.value=[])},_=async()=>{if(0!==h.value.length)try{await a.executeFlow({steps:h.value,delay:y.value}),s("æµç¨‹å·²æ‰§è¡Œ")}catch{o("æ‰§è¡Œå¤±è´¥")}else o("è¯·å…ˆæ·»åŠ æ­¥éª¤")},P=async(e,a,n,c)=>{try{await l.addAction({type:"combo",label:n,icon:c,steps:h.value,delay:y.value}),s("å·²ä¿å­˜åˆ°é¡µé¢"),i.value=!1,t.push("/launcher")}catch{o("ä¿å­˜å¤±è´¥")}};return A(()=>{a.fetchStepTypes(),a.fetchPages()}),(e,t)=>(r(),u("div",st,[d("div",ot,[d("button",{class:"tb-btn",onClick:C},"æ¸…ç©º"),d("button",{class:"tb-btn",onClick:_},"â–¶ æ‰§è¡Œ"),d("button",{class:"tb-btn accent",onClick:t[0]||(t[0]=e=>i.value=!0),disabled:0===h.value.length}," ä¿å­˜åˆ°é¡µé¢ ",8,nt)]),d("div",it,[(r(!0),u(v,null,p(b.value,e=>(r(),u("div",{key:e.category,class:"cat-group"},[d("div",ct,w(e.category),1),(r(!0),u(v,null,p(e.steps,e=>(r(),u("div",{key:e.type,class:"step-item",onClick:t=>(e=>{const t={type:e.type};switch(e.type){case"delay":t.duration=1e3;break;case"keys":t.keys="ctrl+c";break;case"type_text":t.text="Hello";break;case"app":t.path="";break;case"shell":t.command="";break;case"url":t.url="";break;case"snippet":t.text="";break;case"toast":t.message="";break;case"mouse_click":case"mouse_move":t.x=0,t.y=0;break;case"set_var":t.name="var",t.value="";break;case"http_request":t.url="",t.method="GET"}h.value.push(t)})(e)},[d("span",ut,w(e.icon),1),d("span",dt,w(e.name),1)],8,rt))),128))]))),128))]),d("div",vt,[d("div",pt,[d("span",ht,"æµç¨‹æ­¥éª¤ ("+w(h.value.length)+")",1),d("span",wt,"å»¶è¿Ÿ: "+w(y.value)+"ms",1)]),0===h.value.length?(r(),u("div",mt," ç‚¹å‡»ä¸Šæ–¹æ­¥éª¤æ·»åŠ åˆ°æµç¨‹ ")):(r(),u("div",yt,[(r(!0),u(v,null,p(h.value,(e,t)=>(r(),u("div",{key:t,class:"flow-step-item"},[d("span",gt,w(t+1),1),d("span",bt,w(k(e.type)),1),d("span",ft,w(e.type),1),d("button",{class:"step-del",onClick:e=>(e=>{h.value.splice(e,1)})(t)},"Ã—",8,kt)]))),128))])),d("div",Ct,[t[3]||(t[3]=d("label",null,"æ­¥éª¤é—´å»¶è¿Ÿ (ms)",-1)),S(d("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>y.value=e),type:"number",min:"0",step:"100"},null,512),[[I,y.value,void 0,{number:!0}]])])]),g(lt,{show:i.value,pages:f.value,onClose:t[2]||(t[2]=e=>i.value=!1),onSave:P},null,8,["show","pages"])]))}}),[["__scopeId","data-v-ad273a17"]]),Pt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"})),Tt={id:"app"},Et={class:"app-content"},xt=R(H(i({__name:"App",setup(e){const t=M(),a=m(()=>B());return A(()=>{B()&&window.electronAPI&&window.electronAPI.isDev;document.documentElement.setAttribute("data-theme",t.theme)}),(e,l)=>{const s=j("router-view");return r(),u("div",Tt,[g(J),d("div",Et,[g(s,null,{default:f(({Component:e})=>[g(_,{name:"tab-fade",mode:"out-in"},{default:f(()=>[(r(),y(L(e)))]),_:2},1024)]),_:1})]),g(te),a.value?x("",!0):(r(),u(v,{key:0},[g(oe,{show:k(t).showSettings,title:"è®¾ç½®",width:"800px",onClose:l[0]||(l[0]=e=>k(t).setShowSettings(!1))},{default:f(()=>[g(Ve)]),_:1},8,["show"]),g(oe,{show:k(t).showFlowEditor,title:"æµç¨‹ç¼–æŽ’å™¨",width:"1000px",onClose:l[1]||(l[1]=e=>k(t).setShowFlowEditor(!1))},{default:f(()=>[g(_t)]),_:1},8,["show"])],64))])}}}),[["__scopeId","data-v-b96eef22"]]));xt.use(q),xt.use(F),xt.mount("#app");export{H as _,M as a,Y as b,ne as c,B as i,z as o,Ge as u};
